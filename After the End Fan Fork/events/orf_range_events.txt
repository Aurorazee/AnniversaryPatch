namespace = orfrange

province_event = {
	id = orfrange.1
	picture = GFX_evt_horsemanship
	title = EVTTITLE_range_loss
	
	desc = EVTDESC_range_loss_ranger

	mean_time_to_happen = {
		days = 60
	}
	
	trigger = {
		NOT = { has_province_modifier = range_shrinkage_mod}
		OR = {
			AND = {
				num_of_empty_holdings = 0
				NOT = { num_of_empty_holdings = 1 }
				any_province_holding = {
					OR = {
						has_building = open_range_2
						has_building = open_range_3
						has_building = open_range_4
						has_building = open_range_5
						has_building = open_range_6
						has_building = open_range_7
					}
				}
			}
			AND = {
				num_of_empty_holdings = 1
				NOT = { num_of_empty_holdings = 2 }
				any_province_holding = {
					OR = {
						has_building = open_range_3
						has_building = open_range_4
						has_building = open_range_5
						has_building = open_range_6
						has_building = open_range_7
					}
				}
			}
			AND = {
				num_of_empty_holdings = 2
				NOT = { num_of_empty_holdings = 3 }
				any_province_holding = {
					OR = {
						has_building = open_range_4
						has_building = open_range_5
						has_building = open_range_6
						has_building = open_range_7
					}
				}
			}
			AND = {
				num_of_empty_holdings = 3
				NOT = { num_of_empty_holdings = 4 }
				any_province_holding = {
					OR = {
						has_building = open_range_5
						has_building = open_range_6
						has_building = open_range_7
					}
				}
			}
			AND = {
				num_of_empty_holdings = 4
				NOT = { num_of_empty_holdings = 5 }
				any_province_holding = {
					OR = {
						has_building = open_range_6
						has_building = open_range_7
					}
				}
			}
			AND = {
				num_of_empty_holdings = 5
				NOT = { num_of_empty_holdings = 6 }
				any_province_holding = {
					OR = {
						has_building = open_range_7
					}
				}
			}
		}
	}
	immediate = {
		any_province_holding = {
				remove_building = open_range_1
				remove_building = open_range_2
				remove_building = open_range_3
				remove_building = open_range_4
				remove_building = open_range_5
				remove_building = open_range_6
				remove_building = open_range_7
				add_province_modifier = {
					name = range_shrinkage_mod
					hidden = yes
					days = 120
				}
				}
				}
	option = {
				name = "I see"
				trigger = { num_of_empty_holdings = 0
							NOT = {num_of_empty_holdings = 1}
						  }
				capital_holding = {
									
									add_building = open_range_1
								  }
			}
	option = {
				name = "I see"
				trigger = { num_of_empty_holdings = 1
							NOT = {num_of_empty_holdings = 2}
						  }
				capital_holding = {
									
									add_building = open_range_2
								  }
			}
	option = {
				name = "I see"
				trigger = { num_of_empty_holdings = 2
							NOT = {num_of_empty_holdings = 3}
						  }
				capital_holding = {
									
									add_building = open_range_3
								  }
			}
	option = {
				name = "I see"
				trigger = { num_of_empty_holdings = 3
							NOT = {num_of_empty_holdings = 4}
						  }
				capital_holding = {
									
									add_building = open_range_4
								  }
			}
	option = {
				name = "I see"
				trigger = { num_of_empty_holdings = 5
							NOT = {num_of_empty_holdings = 6}
						  }
				capital_holding = {
									
									add_building = open_range_6
								  }
			}
	option = {
				name = "I see"
				trigger = { num_of_empty_holdings = 6
						  }
				capital_holding = {
									
									add_building = open_range_7
								  }
			}
	}

province_event = {
	id = orfrange.2
	hide_window = yes
	mean_time_to_happen = {
		days = 1
	}
	
	trigger = {
		NOT = {
				owner = {government = open_range_feudalism_government}
			  }
		OR = {
						has_building = open_range_2
						has_building = open_range_3
						has_building = open_range_4
						has_building = open_range_5
						has_building = open_range_6
						has_building = open_range_7
			}
				}
	immediate = {
		any_province_holding = {
				remove_building = open_range_1
				remove_building = open_range_2
				remove_building = open_range_3
				remove_building = open_range_4
				remove_building = open_range_5
				remove_building = open_range_6
				remove_building = open_range_7
				}
				}

	}